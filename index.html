<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Healender - Sigara Bırakma Takvimi</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1a1a1a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Healender">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIiByeD0iNDAiIGZpbGw9IiMxYTFhMWEiLz4KPHN2ZyB4PSI0NSIgeT0iNDUiIHdpZHRoPSI5MCIgaGVpZ2h0PSI5MCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMgOUg3VjdIM1Y5Wk05IDlIMTVWN0g5VjlaTTE3IDlIMjFWN0gxN1Y5Wk0zIDEzSDdWMTFIM1YxM1pNOSAxM0gxNVYxMUg5VjEzWk0xNyAxM0gyMVYxMUgxN1YxM1pNMyAxN0g3VjE1SDNWMTdaTTkgMTdIMTVWMTVIOVYxN1pNMTcgMTdIMjFWMTVIMTdWMTdaIiBmaWxsPSIjMDA3QUZGIi8+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+">
    
    <!-- Firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>
</head>
<body>
    <div class="container">
        <!-- Firebase Bağlantı Durumu -->
        <div class="firebase-status" id="firebaseStatus">
            <div class="status-indicator offline" id="statusIndicator"></div>
            <span id="statusText">Bağlanıyor...</span>
        </div>

        <!-- Header -->
        <header class="header">
            <h1>Healender</h1>
            <button class="settings-btn" id="settingsBtn">⚙️</button>
        </header>

        <!-- Navigation -->
        <nav class="nav">
            <button class="nav-btn" id="prevMonth">‹</button>
            <h2 class="month-year" id="monthYear"></h2>
            <button class="nav-btn" id="nextMonth">›</button>
        </nav>

        <!-- Calendar -->
        <div class="calendar" id="calendar"></div>

        <!-- Stats -->
        <div class="stats">
            <div class="stat-card">
                <div class="stat-value" id="smokeFreeValue">0</div>
                <div class="stat-label">Sigara İçmediğin Gün</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="moneySavedValue">0 ₺</div>
                <div class="stat-label">Biriktirdiğin Para</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="moneyInvestedValue">0 ₺</div>
                <div class="stat-label">Yatırım Yaptığın Para</div>
            </div>
        </div>

        <!-- Legend -->
        <div class="legend">
            <div class="legend-item">
                <div class="legend-dot red"></div>
                <span>Sigara İçmediğin Gün</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot blue"></div>
                <span>Yatırım Yaptığın Gün</span>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Ayarlar</h3>
                <button class="close-btn" id="closeSettings">×</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label for="cigarettePrice">Sigara Paketi Fiyatı (₺)</label>
                    <input type="number" id="cigarettePrice" value="85" min="1" step="0.01">
                </div>
                
                <!-- Firebase Sync Status -->
                <div class="setting-group">
                    <label>Firebase Senkronizasyon</label>
                    <div class="sync-status" id="syncStatus">
                        <div class="sync-indicator" id="syncIndicator"></div>
                        <span id="syncText">Senkronize</span>
                        <button class="sync-btn" id="forceSyncBtn">Manuel Senkronize</button>
                    </div>
                </div>

                <!-- Data Management -->
                <div class="setting-group">
                    <label>Veri Yönetimi</label>
                    <div class="data-buttons">
                        <button class="export-btn" id="exportBtn">📤 Verileri İndir</button>
                        <button class="import-btn" id="importBtn">📥 Veri Yükle</button>
                        <input type="file" id="importFile" accept=".json" style="display: none;">
                        <button class="reset-btn" id="resetBtn">🗑️ Tüm Verileri Sil</button>
                    </div>
                </div>

                <!-- Version Info -->
                <div class="setting-group">
                    <label>Versiyon</label>
                    <div class="version-info">
                        <span>Healender v2.0 - Firebase Entegrasyon</span>
                        <small>Son güncelleme: <span id="lastUpdate">-</span></small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase Config -->
    <script>
        // Firebase Configuration - Gerçek bilgilerinle değiştirin
        const firebaseConfig = {
  apiKey: "AIzaSyAzfSzW7Srby2H8ZoSztxk1AZp4_CBIN8g",
  authDomain: "healender-8c0da.firebaseapp.com",
  projectId: "healender-8c0da",
  storageBucket: "healender-8c0da.firebasestorage.app",
  messagingSenderId: "387361181924",
  appId: "1:387361181924:web:4053bd1e2daea008c95cf1"
};

        // Firebase çevrimdışı desteği
        let firebaseApp, db, isOnline = false;
        
        try {
            firebaseApp = firebase.initializeApp(firebaseConfig);
            db = firebase.firestore();
            
            // Offline desteği
            db.enablePersistence({
                synchronizeTabs: true
            }).catch((err) => {
                console.log('Offline persistence hatası:', err.code);
            });
            
            console.log('Firebase başarıyla yüklendi');
        } catch (error) {
            console.error('Firebase yüklenirken hata:', error);
            // Fallback olarak localStorage kullan
            db = null;
        }
    </script>
    
    <script src="script.js"></script>
</body>
</html> 